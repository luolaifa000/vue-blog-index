{"remainingRequest":"D:\\developer\\www\\vue-blog-index\\node_modules\\thread-loader\\dist\\cjs.js!D:\\developer\\www\\vue-blog-index\\node_modules\\babel-loader\\lib\\index.js!D:\\developer\\www\\vue-blog-index\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\developer\\www\\vue-blog-index\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\developer\\www\\vue-blog-index\\src\\modules\\index\\page\\blog.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\developer\\www\\vue-blog-index\\src\\modules\\index\\page\\blog.vue","mtime":1584589959526},{"path":"D:\\developer\\www\\vue-blog-index\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1555406884439},{"path":"D:\\developer\\www\\vue-blog-index\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1572402791037},{"path":"D:\\developer\\www\\vue-blog-index\\node_modules\\babel-loader\\lib\\index.js","mtime":1565229057131},{"path":"D:\\developer\\www\\vue-blog-index\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1555406884439},{"path":"D:\\developer\\www\\vue-blog-index\\node_modules\\vue-loader\\lib\\index.js","mtime":1584631609333}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"D:\\\\developer\\\\www\\\\vue-blog-index\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.number.constructor\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters, mapActions } from \"vuex\";\nimport Skills from \"../components/skills\";\nexport default {\n  components: {\n    Skills: Skills\n  },\n  data: function data() {\n    return {\n      show: true,\n      loading: false,\n      checked: true,\n      articles: [],\n      classifys: [],\n      pageModel: {\n        page: Number(this.$route.query.page) || 1,\n        sumCount: 10\n      }\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['classify', 'tag'])),\n  created: function created() {\n    if (this.$route.query.tag) {\n      this.ArticlesOrderByTag();\n    } else if (this.$route.query.classify) {\n      this.ArticlesOrderByClassify();\n    } else {\n      this.getArticles();\n    }\n  },\n  methods: _objectSpread({}, mapActions(['Tag', 'Classify']), {\n    getArticles: function getArticles() {\n      var _this = this;\n\n      this.loading = true;\n      this.$post('/api/v2/article/list', this.pageModel).then(function (res) {\n        _this.pageModel.sumCount = res.data.total;\n        _this.articles = res.data.data;\n\n        _this.AddStaticUrl();\n\n        _this.Classify('all');\n\n        _this.loading = false;\n      });\n    },\n    selectRoleList: function selectRoleList() {\n      if (this.$route.query.classify) {\n        this.ArticlesOrderByClassify();\n        this.$router.push({\n          path: '/blog',\n          query: {\n            classify: this.$route.query.classify,\n            page: this.pageModel.page\n          }\n        });\n        console.log('请求分类分页');\n      } else if (this.$route.query.tag) {\n        this.ArticlesOrderByTag();\n        this.$router.push({\n          path: '/blog',\n          query: {\n            tag: this.$route.query.tag,\n            page: this.pageModel.page\n          }\n        });\n        console.log('请求标签分页');\n      } else {\n        this.getArticles();\n        this.$router.push({\n          path: '/blog',\n          query: {\n            page: this.pageModel.page\n          }\n        });\n        console.log('请求正常分页');\n      }\n\n      window.scrollTo(0, 0);\n    },\n    // 按标签获取\n    ArticlesOrderByTag: function ArticlesOrderByTag() {\n      var _this2 = this;\n\n      this.loading = true;\n      var param = {\n        tag: this.$route.query.tag\n      };\n      this.$post('api/v2/tag/list', Object.assign(param, this.pageModel)).then(function (res) {\n        _this2.pageModel.sumCount = res.data.total;\n        _this2.articles = [];\n        res.data.data.forEach(function (item) {\n          _this2.articles.push(item.article);\n        });\n\n        _this2.AddStaticUrl();\n\n        _this2.Tag(_this2.$route.query.tag);\n\n        _this2.loading = false;\n      });\n    },\n    // 按分类获取\n    ArticlesOrderByClassify: function ArticlesOrderByClassify() {\n      var _this3 = this;\n\n      this.loading = true;\n      var param = {\n        classify: this.$route.query.classify\n      };\n      this.$post('/api/v2/article/list', Object.assign(param, this.pageModel)).then(function (res) {\n        _this3.pageModel.sumCount = res.data.total;\n        _this3.articles = res.data.data;\n\n        _this3.AddStaticUrl();\n\n        _this3.Classify(_this3.$route.query.classify);\n\n        _this3.loading = false;\n      });\n    },\n    // 为静态图片添加域名\n    AddStaticUrl: function AddStaticUrl() {\n      var _this4 = this;\n\n      this.articles.forEach(function (item) {\n        if (item.img && item.img.indexOf(\"http\") < 0) {\n          item.img = _this4.$staticUrl + item.img;\n        }\n      });\n    }\n  })\n};",null]}