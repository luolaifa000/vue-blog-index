{"remainingRequest":"D:\\developer\\www\\vue-blog-index\\node_modules\\babel-loader\\lib\\index.js!D:\\developer\\www\\vue-blog-index\\src\\modules\\index\\router\\router.js","dependencies":[{"path":"D:\\developer\\www\\vue-blog-index\\src\\modules\\index\\router\\router.js","mtime":1584502969248},{"path":"D:\\developer\\www\\vue-blog-index\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1555406884439},{"path":"D:\\developer\\www\\vue-blog-index\\node_modules\\babel-loader\\lib\\index.js","mtime":1565229057131}],"contextDependencies":[],"result":["import _toConsumableArray from \"D:\\\\developer\\\\www\\\\vue-blog-index\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport Vue from 'vue';\nimport store from \"@/store/index\";\nimport Router from 'vue-router';\nimport NotFound from '@/404';\nimport index from \"./index\";\nVue.use(Router);\nvar router = new Router({\n  // mode: 'history',\n  routes: [{\n    path: '*',\n    component: NotFound\n  }].concat(_toConsumableArray(index)),\n  // 新开页面滚动条回到顶部，后退回到之前位置\n  scrollBehavior: function scrollBehavior(to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition;\n    } else {\n      return {\n        x: 0,\n        y: 0\n      };\n    }\n  }\n});\nrouter.beforeEach(function (to, from, next) {\n  // 使用钩子函数对路由进行权限跳转\n  // 如果用户已经登录，访问登录和注册时，自动跳转到首页\n  setTimeout(function () {\n    var login = store.state.user.user;\n\n    if (!login && (to.path == \"/password\" || to.path == \"/person\")) {\n      next(\"/blog\");\n    } else {\n      next();\n    }\n  }, 1000);\n  var role = store.state.user.user;\n\n  if (role && (to.path == '/login' || to.path == '/register')) {\n    next('/blog');\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["D:/developer/www/vue-blog-index/src/modules/index/router/router.js"],"names":["Vue","store","Router","NotFound","index","use","router","routes","path","component","scrollBehavior","to","from","savedPosition","x","y","beforeEach","next","setTimeout","login","state","user","role"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,QAAP,MAAqB,OAArB;AAEA,OAAOC,KAAP;AAEAJ,GAAG,CAACK,GAAJ,CAAQH,MAAR;AAEA,IAAMI,MAAM,GAAG,IAAIJ,MAAJ,CAAW;AACxB;AACAK,EAAAA,MAAM,GACJ;AACEC,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,SAAS,EAAEN;AAFb,GADI,4BAKDC,KALC,EAFkB;AAUxB;AACAM,EAAAA,cAXwB,0BAWTC,EAXS,EAWLC,IAXK,EAWCC,aAXD,EAWgB;AACtC,QAAIA,aAAJ,EAAmB;AACjB,aAAOA,aAAP;AACD,KAFD,MAEO;AACL,aAAO;AAAEC,QAAAA,CAAC,EAAE,CAAL;AAAQC,QAAAA,CAAC,EAAE;AAAX,OAAP;AACD;AACF;AAjBuB,CAAX,CAAf;AAqBAT,MAAM,CAACU,UAAP,CAAkB,UAACL,EAAD,EAAKC,IAAL,EAAWK,IAAX,EAAoB;AACpC;AACA;AACAC,EAAAA,UAAU,CAAC,YAAM;AACf,QAAMC,KAAK,GAAGlB,KAAK,CAACmB,KAAN,CAAYC,IAAZ,CAAiBA,IAA/B;;AACA,QAAI,CAACF,KAAD,KAAWR,EAAE,CAACH,IAAH,IAAW,WAAX,IAA0BG,EAAE,CAACH,IAAH,IAAW,SAAhD,CAAJ,EAAgE;AAC9DS,MAAAA,IAAI,CAAC,OAAD,CAAJ;AACD,KAFD,MAEO;AACLA,MAAAA,IAAI;AACL;AACF,GAPS,EAOP,IAPO,CAAV;AASA,MAAMK,IAAI,GAAGrB,KAAK,CAACmB,KAAN,CAAYC,IAAZ,CAAiBA,IAA9B;;AACA,MAAIC,IAAI,KAAKX,EAAE,CAACH,IAAH,IAAW,QAAX,IAAuBG,EAAE,CAACH,IAAH,IAAW,WAAvC,CAAR,EAA6D;AAC3DS,IAAAA,IAAI,CAAC,OAAD,CAAJ;AACD,GAFD,MAEO;AACLA,IAAAA,IAAI;AACL;AACF,CAlBD;AAoBA,eAAeX,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport store from \"@/store/index\"\r\n\r\nimport Router from 'vue-router'\r\nimport NotFound from '@/404'\r\n\r\nimport index from './index'\r\n\r\nVue.use(Router)\r\n\r\nconst router = new Router({\r\n  // mode: 'history',\r\n  routes: [\r\n    {\r\n      path: '*',\r\n      component: NotFound,\r\n    },\r\n    ...index,\r\n\r\n  ],\r\n  // 新开页面滚动条回到顶部，后退回到之前位置\r\n  scrollBehavior(to, from, savedPosition) {\r\n    if (savedPosition) {\r\n      return savedPosition\r\n    } else {\r\n      return { x: 0, y: 0 }\r\n    }\r\n  }\r\n\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  // 使用钩子函数对路由进行权限跳转\r\n  // 如果用户已经登录，访问登录和注册时，自动跳转到首页\r\n  setTimeout(() => {\r\n    const login = store.state.user.user\r\n    if (!login && (to.path == \"/password\" || to.path == \"/person\")) {\r\n      next(\"/blog\")\r\n    } else {\r\n      next();\r\n    }\r\n  }, 1000);\r\n\r\n  const role = store.state.user.user\r\n  if (role && (to.path == '/login' || to.path == '/register')) {\r\n    next('/blog')\r\n  } else {\r\n    next();\r\n  }\r\n})\r\n\r\nexport default router"]}]}