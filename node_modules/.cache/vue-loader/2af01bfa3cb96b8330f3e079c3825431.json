{"remainingRequest":"D:\\developer\\www\\vue-blog-index\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\developer\\www\\vue-blog-index\\src\\modules\\index\\user\\person.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\developer\\www\\vue-blog-index\\src\\modules\\index\\user\\person.vue","mtime":1584589959838},{"path":"D:\\developer\\www\\vue-blog-index\\node_modules\\babel-loader\\lib\\index.js","mtime":1565229057131},{"path":"D:\\developer\\www\\vue-blog-index\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1555406884439},{"path":"D:\\developer\\www\\vue-blog-index\\node_modules\\vue-loader\\lib\\index.js","mtime":1584631609333}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport marked from 'marked'\r\nimport {mapGetters} from \"vuex\"\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      loading: true,\r\n      comments: {},\r\n      messages: {},\r\n      commentsTotal: 0,\r\n      messagesTotal: 0,\r\n      pageModel1: {\r\n        page: 1,\r\n        sumCount: 10\r\n      },\r\n      pageModel2: {\r\n        page: 1,\r\n        sumCount: 10\r\n      },\r\n    }\r\n  },\r\n  computed: mapGetters([\r\n    'user'\r\n  ]),  \r\n  created() {\r\n    this.getComment()\r\n    this.getMessage()\r\n  },\r\n  methods: {\r\n    getComment() {\r\n      this.$post('/api/v2/comment/person', this.pageModel1).then(res => {\r\n        this.loading = false\r\n        this.commentsTotal = res.data.total\r\n        this.comments = res.data.data\r\n        this.pageModel1.sumCount = res.data.total\r\n      }).catch(() => {})\r\n    },\r\n    selectCommentList() {\r\n      this.getComment()\r\n    },\r\n    // 删除评论\r\n    deleteComment(item) {\r\n      let param = {\r\n        id: item.id\r\n      }\r\n      this.$post('/api/v2/comment/delete', param).then(res => {\r\n        this.comments.splice(this.comments.indexOf(item), 1)\r\n        this.commentsTotal-=1\r\n        this.$Message.success(res.message)\r\n      }).catch(() => {})\r\n    }, \r\n    getMessage() {\r\n      this.$post('/api/v2/message/person', this.pageModel2).then(res => {\r\n        this.loading = false\r\n        this.messages = res.data.data\r\n        this.messagesTotal = res.data.total\r\n        this.pageModel2.sumCount = res.data.total\r\n      }).catch(() => {})\r\n    },\r\n    selectMessageList() {\r\n      this.getMessage()\r\n    },\r\n    // 删除留言\r\n    deleteMessage(item) {\r\n      let param = {\r\n        id: item.id\r\n      }\r\n      this.$post('/api/v2/message/delete', param).then(res => {\r\n        this.messages.splice(this.messages.indexOf(item), 1)\r\n        this.messagesTotal-=1\r\n        this.$Message.success(res.message)\r\n      }).catch(() => {})\r\n    }, \r\n  }, \r\n}\r\n",null]}